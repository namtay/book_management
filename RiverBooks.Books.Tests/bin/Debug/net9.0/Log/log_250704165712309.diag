2025-07-04T16:57:12.3125903+00:00 Microsoft.Testing.Platform.Builder.TestApplication INFORMATION Version: 1.6.3+5354e77dc47f233239dfddf6d2be620b9e14b171
2025-07-04T16:57:12.3201585+00:00 Microsoft.Testing.Platform.Builder.TestApplication INFORMATION Logging mode: asynchronous
2025-07-04T16:57:12.3208336+00:00 Microsoft.Testing.Platform.Builder.TestApplication INFORMATION Logging level: Information
2025-07-04T16:57:12.3208367+00:00 Microsoft.Testing.Platform.Builder.TestApplication INFORMATION CreateBuilderAsync entry time: 16:57:12.298
2025-07-04T16:57:12.3223262+00:00 Microsoft.Testing.Platform.Builder.TestApplication INFORMATION PID: 81248
2025-07-04T16:57:12.3223524+00:00 Microsoft.Testing.Platform.Builder.TestApplication INFORMATION Runtime information: win-x64 - .NET 9.0.5
2025-07-04T16:57:12.3223617+00:00 Microsoft.Testing.Platform.Builder.TestApplication INFORMATION Runtime location: C:\Program Files\dotnet\shared\Microsoft.NETCore.App\9.0.5\System.Private.CoreLib.dll
2025-07-04T16:57:12.3223686+00:00 Microsoft.Testing.Platform.Builder.TestApplication INFORMATION IsDynamicCodeSupported: True
2025-07-04T16:57:12.3223707+00:00 Microsoft.Testing.Platform.Builder.TestApplication INFORMATION Test module: F:\book_management\RiverBooks.Books.Tests\bin\Debug\net9.0\RiverBooks.Books.Tests.dll
2025-07-04T16:57:12.3224376+00:00 Microsoft.Testing.Platform.Builder.TestApplication INFORMATION Command line arguments: '--server --diagnostic --diagnostic-verbosity Information --diagnostic-output-directory F:\book_management\RiverBooks.Books.Tests\bin\Debug\net9.0\Log --results-directory F:\book_management\TestResults --client-port 49165'
2025-07-04T16:57:12.3230905+00:00 Microsoft.Testing.Platform.Builder.TestApplication INFORMATION TESTINGPLATFORM_DEFAULT_HANG_TIMEOUT: ''
2025-07-04T16:57:12.3306605+00:00 Microsoft.Testing.Platform.Hosts.TestHostBuilder INFORMATION Setting RegisterEnvironmentVariablesConfigurationSource: 'True'
2025-07-04T16:57:12.3378090+00:00 Microsoft.Testing.Platform.Hosts.TestHostBuilder INFORMATION Setting PlatformExitProcessOnUnhandledException: 'False', config file: False environment variable:  VSTest mode: False
2025-07-04T16:57:12.4497122+00:00 Microsoft.Testing.Platform.Requests.TestHostTestFrameworkInvoker INFORMATION Test framework UID: '30ea7c6e-dd24-4152-a360-1387158cd41d' Version: '2.0.3' DisplayName: 'xUnit.net v3 Microsoft.Testing.Platform test framework' Description: 'xUnit.net v3 Microsoft.Testing.Platform test framework'
2025-07-04T16:57:12.4526920+00:00 xUnit.net INFORMATION xUnit.net v3 In-Process Runner v2.0.3+216a74a292 (64-bit .NET 9.0.5)
2025-07-04T16:57:12.4746992+00:00 xUnit.net INFORMATION   Discovering: RiverBooks.Books.Tests
2025-07-04T16:57:12.4906455+00:00 xUnit.net INFORMATION   Discovered:  RiverBooks.Books.Tests
2025-07-04T16:57:12.5007735+00:00 xUnit.net INFORMATION   Starting:    RiverBooks.Books.Tests
2025-07-04T16:57:13.6123358+00:00 xUnit.net ERROR     RiverBooks.Books.Tests.Endpoints.BookList.ReturnsThreeBooksAsync [FAIL]
2025-07-04T16:57:13.6125524+00:00 xUnit.net INFORMATION       System.InvalidOperationException : An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
2025-07-04T16:57:13.6125597+00:00 xUnit.net INFORMATION       ---- Microsoft.Data.SqlClient.SqlException : Cannot open database "RiverBooks.Testing" requested by the login. The login failed.
2025-07-04T16:57:13.6125608+00:00 xUnit.net INFORMATION       Login failed for user 'sa'.
2025-07-04T16:57:13.6127480+00:00 xUnit.net INFORMATION       Stack Trace:
2025-07-04T16:57:13.6129168+00:00 xUnit.net INFORMATION            at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
2025-07-04T16:57:13.6129247+00:00 xUnit.net INFORMATION            at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-07-04T16:57:13.6129285+00:00 xUnit.net INFORMATION            at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
2025-07-04T16:57:13.6129314+00:00 xUnit.net INFORMATION            at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
2025-07-04T16:57:13.6129392+00:00 xUnit.net INFORMATION         F:\book_management\RiverBooks.Books\Data\EfBookRepository.cs(33,0): at RiverBooks.Books.EfBookRepository.ListAsync()
2025-07-04T16:57:13.6129421+00:00 xUnit.net INFORMATION         F:\book_management\RiverBooks.Books\BookService.cs(49,0): at RiverBooks.Books.BookService.ListBooksAsync()
2025-07-04T16:57:13.6129444+00:00 xUnit.net INFORMATION         F:\book_management\RiverBooks.Books\BookEndpoints\List.cs(37,0): at RiverBooks.Books.List.HandleAsync(CancellationToken cancellationToken)
2025-07-04T16:57:13.6129459+00:00 xUnit.net INFORMATION            at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
2025-07-04T16:57:13.6129474+00:00 xUnit.net INFORMATION            at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
2025-07-04T16:57:13.6129545+00:00 xUnit.net INFORMATION            at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
2025-07-04T16:57:13.6129564+00:00 xUnit.net INFORMATION            at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
2025-07-04T16:57:13.6129586+00:00 xUnit.net INFORMATION            at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
2025-07-04T16:57:13.6129610+00:00 xUnit.net INFORMATION            at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<<SendAsync>g__RunRequestAsync|0>d.MoveNext()
2025-07-04T16:57:13.6129615+00:00 xUnit.net INFORMATION         --- End of stack trace from previous location ---
2025-07-04T16:57:13.6129639+00:00 xUnit.net INFORMATION            at Microsoft.AspNetCore.TestHost.ClientHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
2025-07-04T16:57:13.6129667+00:00 xUnit.net INFORMATION            at Microsoft.AspNetCore.Mvc.Testing.Handlers.CookieContainerHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
2025-07-04T16:57:13.6129693+00:00 xUnit.net INFORMATION            at Microsoft.AspNetCore.Mvc.Testing.Handlers.RedirectHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
2025-07-04T16:57:13.6129739+00:00 xUnit.net INFORMATION            at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
2025-07-04T16:57:13.6129777+00:00 xUnit.net INFORMATION            at FastEndpoints.HttpClientExtensions.SENDAsync[TRequest,TResponse](HttpClient client, HttpMethod method, String requestUri, TRequest request, Boolean sendAsFormData, Boolean populateHeaders)
2025-07-04T16:57:13.6129805+00:00 xUnit.net INFORMATION         F:\book_management\RiverBooks.Books.Tests\Endpoints\BookList.cs(15,0): at RiverBooks.Books.Tests.Endpoints.BookList.ReturnsThreeBooksAsync()
2025-07-04T16:57:13.6129809+00:00 xUnit.net INFORMATION         --- End of stack trace from previous location ---
2025-07-04T16:57:13.6129812+00:00 xUnit.net INFORMATION         ----- Inner Stack Trace -----
2025-07-04T16:57:13.6129841+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/src/Microsoft/Data/SqlClient/SqlInternalConnection.cs(776,0): at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
2025-07-04T16:57:13.6129871+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/SqlClient/TdsParser.cs(1421,0): at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
2025-07-04T16:57:13.6129905+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/SqlClient/TdsParser.cs(2637,0): at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
2025-07-04T16:57:13.6129934+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/SqlClient/TdsParser.cs(1934,0): at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
2025-07-04T16:57:13.6129967+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/SqlClient/SqlInternalConnectionTds.cs(1185,0): at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
2025-07-04T16:57:13.6129998+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/SqlClient/SqlInternalConnectionTds.cs(1925,0): at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
2025-07-04T16:57:13.6130028+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/SqlClient/SqlInternalConnectionTds.cs(1530,0): at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
2025-07-04T16:57:13.6130061+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/SqlClient/SqlInternalConnectionTds.cs(1419,0): at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
2025-07-04T16:57:13.6130096+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/SqlClient/SqlInternalConnectionTds.cs(516,0): at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
2025-07-04T16:57:13.6130126+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/SqlClient/SqlConnectionFactory.cs(136,0): at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
2025-07-04T16:57:13.6130161+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Common/src/Microsoft/Data/ProviderBase/DbConnectionFactory.cs(123,0): at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
2025-07-04T16:57:13.6130189+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/ProviderBase/DbConnectionPool.cs(731,0): at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-07-04T16:57:13.6130227+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/ProviderBase/DbConnectionPool.cs(1761,0): at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-07-04T16:57:13.6130256+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/ProviderBase/DbConnectionPool.cs(1216,0): at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-07-04T16:57:13.6130284+00:00 xUnit.net INFORMATION         /_/src/Microsoft.Data.SqlClient/netcore/src/Microsoft/Data/ProviderBase/DbConnectionPool.cs(1072,0): at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-07-04T16:57:13.6130289+00:00 xUnit.net INFORMATION         --- End of stack trace from previous location ---
2025-07-04T16:57:13.6130322+00:00 xUnit.net INFORMATION            at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-07-04T16:57:13.6130349+00:00 xUnit.net INFORMATION            at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-07-04T16:57:13.6130376+00:00 xUnit.net INFORMATION            at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-07-04T16:57:13.6130408+00:00 xUnit.net INFORMATION            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-07-04T16:57:13.6130442+00:00 xUnit.net INFORMATION            at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
2025-07-04T16:57:13.6130481+00:00 xUnit.net INFORMATION            at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
2025-07-04T16:57:13.6166089+00:00 xUnit.net INFORMATION   Finished:    RiverBooks.Books.Tests
2025-07-04T16:57:13.6187820+00:00 xUnit.net INFORMATION === TEST EXECUTION SUMMARY ===
2025-07-04T16:57:13.6212198+00:00 xUnit.net INFORMATION    RiverBooks.Books.Tests  Total: 2, Errors: 0, Failed: 1, Skipped: 0, Not Run: 0, Time: 1.119s
